async("theory.plugins.overload",["theory","theory.is"],function(e,r){var t=e=e||{};return e.plugins=e.plugins||{},e.plugins.overload=t.method({method:function(e,t){var o=this.overload;o.fallback;return r.array(e)?o.usingList.apply(o,arguments):e&&e.method?o.usingObject.apply(o,arguments):o.usingKeys.apply(o,arguments)},attributes:{usingObject:function(e,r){console.log(123,e)},usingList:function(e,r){console.log(e)},usingKeys:function(e,o){var n,a,s,l,i,c={};for(a=t.overload.descProcessors,s=0,l=a.length;s<l;s++)a[s].call(this,e,c);c={};for(n in e)if(e.hasOwnProperty(n))for(a=t.overload.itemProcessors,s=0,l=a.length;s<l;s++)a[s].call(this,n,e,c);return i=function(){var n=o?o(arguments):arguments,a=r.what(n,1),s=e[a];if(s)return t.overload.callItem(e,s,this,n);throw new Error("Overload failed for "+a)},i.overloader=e,i},fallback:function(){throw new Error("overload failed to form correctly.")}}}),e.overload.allCombinations=function(e,r){r||(r={}),r.sep||(r.sep="");var t,o,n=[""],a=e,s=0;for(a.length;o=e[s];s++){t=[],o.join||(o=[o]);var l,i=0;for(o.length;l=o[i];i++)if(!l.join)for(var c=0,u=n.length;c<u;c++)t.push(n[c]?n[c]+r.sep+l:l);n=t}return t||[]},e.overload.parseKey=t.method({attributes:{keyPattern:/\[([^\]]+)\]/gi,itmPattern:/, */gi},method:function(e){var r=[],t=this.parseKey;return e.replace(t.keyPattern,function(e,o){for(var n=o.split(t.itmPattern),a=0,s=n.length;a<s;a++)r.push(n[a])}),r}}),e.overload.extendKey=function(){return"["+Array.prototype.slice.call(arguments,0).join(", ")+"]"},e.overload.callItem=function(e,t,o,n,a){if((!a||!r.number(a)||a<1)&&(a=4),r.string(t))do{t=e[t]}while(t&&r.string(t)&&a--);if(t&&r.callable(t))return t.apply(o||this,n||[]);throw new Error("Overload failed to call "+t)},e.overload.descProcessors=new Array,e.overload.descProcessors.inlineNames=t.wrapper(function(e){return e.translatePattern=t.ExpReg(/([^\[\]\:\|\s,]+)\:([^\[\]\:\|\s,]+)/),function(r){var t,o,n,a,s={returnResult:!0};for(t in r)r.hasOwnProperty(t)&&t.indexOf(":")!=-1&&(o=e.translatePattern.haystack(t).findAll(),n=o.replaceAll(function(e){return e[1]},s),a=o.replaceAll(function(e){return e[2]},s),n&&a&&(r[n+" > "+a]=r[t],delete r[t]))}}),e.overload.descProcessors.translateToArgsObject=t.wrapper(function(e){return e.sepPattern=/ *> */,e.createReplacement=function(e,r,o){return function(){for(var n={},a=arguments,s=0,l=a.length;s<l;s++)n[r[s]]=a[s];return t.overload.callItem(e,o,this,[n])}},function(r){var o,n;for(o in r)r.hasOwnProperty(o)&&(n=o.split(e.sepPattern,2),n[0]&&n[1]&&(r[n[0]]=e.createReplacement(r,t.overload.parseKey(n[1]),r[o]),delete r[o]))}}),e.overload.descProcessors.alternativeKeys=function(e){var r,o,n,a;for(r in e)if(e.hasOwnProperty(r)&&r.indexOf("|")!=-1){for(o=r.substring(1,r.length-1).split(", "),a=0,o.length;n=o[a];a++)n&&n.indexOf("|")!=-1&&(o[a]=n.split("|"));for(o=t.overload.allCombinations(o,{sep:", "}),a=0,o.length;n=o[a];a++)n&&(e["["+n+"]"]=r)}},e.overload.descProcessors.optionalArguments=t.wrapper(function(e){return e.translatePattern=t.ExpReg(/\s*\[([^\]]+)\]\s*\??\s*/),function(r){var o,n;for(o in r)r.hasOwnProperty(o)&&o.indexOf("]?")!=-1&&(n="",e.translatePattern.haystack(o).findAll().each(function(e,a,s){var l=t.overload.extendKey.apply(t.overload,this.map(1));n?r[l]=n:(n=l,r[l]=r[o],delete r[o]),s.matches.length--}))}}),function(e,r){e.push(r.inlineNames),e.push(r.translateToArgsObject),e.push(r.optionalArguments),e.push(r.alternativeKeys)}(t.overload.descProcessors,t.overload.descProcessors),e.overload.itemProcessors=[],e});