async("polycade.adornment",["jq","Phaser","theory"],function(e,s,a){var n=async.ref("polycade",{});n.entities=n.entites||{};var i=n.entities.adornment||{};return n.entities.adornment=a.base.mix(i,{prep:function(e){var a,i,r,o=void 0;this.options=e,this.game=this.options.game,this.world=this.options.world||null,this.vars={},(a=this.options.sprite)&&(this.sprite=this.game.add.sprite(this.options.sprite.position.x,this.options.sprite.position.y,this.options.sprite.source),this.position=this.sprite.position,a.anchor!==o&&(this.sprite.anchor=a.anchor),a.blendMode!==o&&(this.sprite.blendMode=a.blendMode),(i=this.options.body)&&(this.game.physics.enable(this.sprite,s.Physics.ARCADE),i.collideWorldBounds!==o&&(this.sprite.body.collideWorldBounds=i.collideWorldBounds),i.allowGravity!==o&&(this.sprite.body.allowGravity=i.allowGravity),i.immovable!==o&&(this.sprite.body.immovable=i.immovable)),(r=this.options.ibody)&&(r=_.clone(r),r.owner=this,this.sprite.ibody=n.imagination.body.create(r))),this.options.add&&this.on("add",this.options.add),this.options.update&&this.on("update",this.options.update),this.options.resize&&this.on("resize",this.options.resize),this.trigger("add")},update:function(){return this.sprite&&this.sprite.ibody&&this.sprite.ibody.update(),this.trigger("update")},collide:function(e){return this.sprite&&this.sprite.ibody?this.sprite.ibody.collide(e):this.sprite?this.game.physics.arcade.collide(e,this.sprite):void 0}}),i}),async.tmp.includes=["underscore","jq","theory","Phaser"],async.tmp.managers=["polycade.events","polycade.layers","polycade.assets"],async("polycade.game",async.tmp.includes,async.tmp.managers,function(e,s,a,n){var i=async.ref("polycade",{}),r=i.game||{};return i.game=a.base.mix(r,{name:"polycade.game",prep:function(){return this.events=i.manager("events").namespace("polycade").create(),this.layers=i.manager("layers").namespace("polycade").create(),this.assets=i.manager("assets").namespace("polycade").create(),this}}),i.game}),async("polycade.imagination.body",["jq","Phaser","theory","PolyK"],function(e,s,a,n){var i=async.ref("polycade",{});return i.imagination=i.imagination||{},i.imagination.body=a.base.mix(i.imagination.body||{},{prep:function(e){},collide:function(){}}),i.imagination.body}),async.registry("polycade",{src:{jq:{file:"node_modules/jqlite/jqlite.js",resolve:function(){return jqlite}},underscore:{file:"node_modules/underscore/underscore-min.js",resolve:function(){return _}},Phaser:{file:"node_modules/phaser/build/phaser.min.js",resolve:function(){return Phaser}},PolyK:{file:"vendor/polyk/polyk.js",resolve:function(){return PolyK}},Q:{resolve:function(){return async.Q}},"polycade.events":{file:"src/managers/polycade.events.js",asynced:!0},"polycade.layers":{file:"src/managers/polycade.layers.js",asynced:!0},"polycade.assets":{file:"src/managers/polycade.assets.js",asynced:!0},"polycade.game":{file:"src/polycade.game.js",asynced:!0},"polycade.adornment":{file:"src/polycade.adornment.js",asynced:!0},"polycade.imagination.body":{file:"src/polycade.imagination.body.js",asynced:!0}},build:{jq:{file:"node_modules/jqlite/jqlite.min.js",resolve:function(){return jqlite}},underscore:{file:"node_modules/underscore/underscore-min.js",resolve:function(){return _}},Phaser:{file:"node_modules/phaser/build/phaser.min.js",resolve:function(){return Phaser}},PolyK:{file:"vendor/polyk/polyk.js",resolve:function(){return PolyK}},Q:{resolve:function(){return async.Q}},"polycade.events":{asynced:!0},"polycade.layers":{asynced:!0},"polycade.assets":{asynced:!0},"polycade.game":{asynced:!0},"polycade.adornment":{asynced:!0},"polycade.imagination.body":{asynced:!0}}}),async("polycade",["jq","theory","Phaser"],["polycade.game"],function(e,s,a){var n=async.ref("polycade",{});return n=s.base.mix(n,{manager:function(e){return n.managers[e]}})}),async("polycade.assets",["underscore","theory","Phaser","Q"],function(e,s,a,n){var i=async.ref("polycade",{});return i.managers=i.managers||{},i.managers.assets=s.base.mix(i.managers.assets||{},{load:function(e){return n.defer().promise}}),i.managers.assets}),async("polycade.events",["jq","theory","Phaser","theory.plugins.events"],function(e,s,a){var n=async.ref("polycade",{});return n.managers=n.managers||{},n.managers.events=function(e){return s.base.mix(s.plugins.events.create(),e||{},{})}(n.managers.events),n.managers.events}),async("polycade.layers",["jq","theory","Phaser"],function(e,s,a){var n=async.ref("polycade",{});return n.managers=n.managers||{},n.managers.layers=function(a){return s.base.mix(a||{},{name:"polycade.layers",prep:function(e){return this},createLayer:function(){return e("<div />")},resolveLayers:function(s){var a={};if(s)for(var n in s)a[n]=e(s[n]);return a}})}(n.managers.layers||{}),n.managers.layers});