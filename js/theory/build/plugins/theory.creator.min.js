async("theory.plugins.creator",["theory"],function(e){var r=e=e||{};return e.plugins=e.plugins||{},e.plugins.creator=r.method({attributes:{callable:function(e){e=this(e);var t=r.extend(r.creator.i.createCallable(),e,{overwrite:!0});return t.getDescription=r.creator.i.getDescription.bind(t),t},i:{processItems:function(e){r.object(e).each.keyValue(function(t,i){i&&!is.callable(i)&&(i.wrapper?e[t]=r.wrapper(i.method,i.wrapper,e):i.overloads?e[t]=r.overload(i.overloads):i.method&&(is.callable(i.method)?e[t]=r.method(i):e[t]=r.overload(i)))})},mixTo:function(e,t){var i;return t||(t={}),t.preserveContext===r.undefined&&(t.preserveContext=!0),this.getMixToList&&(t.filter=this.getMixToList()),i=t.filter?r.borrow(t.filter):t.ownProperties?r.borrow().allOwn():r.borrow().all(),t.preserveContext&&(i=i.preserveContext()),i.from(this).giveTo(e),this},mixOwnTo:function(e,r){return r||(r={}),r.ownProperties||(r.ownProperties=!0),this.mixTo(e,r)},mixToInstance:function(e){return r.creator.i.mixTo.call(this,e,{preserveContext:!0})},mixOwnToInstance:function(e){return r.creator.i.mixOwnTo.call(this,e,{preserveContext:!0})},getMixToList:function(){return Object.keys(this)},create:function(){var e=this,t=e.prep.apply(Object.create(e),arguments);return t.constructor=e,t.mixTo=r.creator.i.mixToInstance,t.mixOwnTo=r.creator.i.mixOwnToInstance,t.creator=r.callableReference(e),t.isNamespacedOf=null,t.getNamespacedSource=null,t},prep:function(){return this.i&&(this.i=r.dereference(this.i)),this},isPrototypeOfOverride:function(e){var r=this,t=Object.prototype.isPrototypeOf;do{if(t.call(r,e))return!0}while(r.getNamespacedSource&&(r=r.getNamespacedSource()));return!1},getNamespacedSource:function(){return this},getDescription:function(){return this},createCallable:function(e){var r;return r=function(){return r.create.apply(r,arguments)}},isNamespacedOf:function(e){for(var r,t=this;t.getNamespacedSource;){if(r=t.getNamespacedSource(),e===r)return!0;if(r===t)break;t=r}return!1},namespace:function(e,t){var i,o;return 1===arguments.length&&is.not.string(e)&&(t=e,e=null),i=this.getDescription(),i.i||(i.i={}),i.i.namespaces&&i.i.namespaces[e]?i.i.namespaces[e]:(is.callable(this)?(o=r.extend(r.creator.i.createCallable(),this,{overwrite:!0}),o.isPrototypeOf=r.creator.i.isPrototypeOfOverride):o=Object.create(this),o.i&&(o.i=r.dereference(o.i)),o.shared&&(o.shared=r.dereference(o.shared)),o.getNamespacedSource=r.creator.i.getNamespacedSource.bind(this),o.isNamespacedOf=r.creator.i.isNamespacedOf.bind(o),e&&(!i.i.namespaces&&(i.i.namespaces={}),i.i.namespaces[e]=o),t&&o.configuration&&o.configuration(t),o)}}},method:function(e){var t;return!e.shared&&(e.shared={}),!e.i&&(e.i={}),!e.create&&(e.create=r.creator.i.create),!e.prep&&(e.prep=r.creator.i.prep),!e.namespace&&(e.namespace=r.creator.i.namespace),!e.mixTo&&(e.mixTo=r.creator.i.mixTo),!e.mixOwnTo&&(e.mixOwnTo=r.creator.i.mixOwnTo),!e.getMixToList&&(e.getMixToList=r.creator.i.getMixToList),e.__isPrototypeOf=function(r){return r&&r.isNamespacedOf?r.isNamespacedOf(e):Object.prototype.isPrototypeOf.call(this,r)},r.creator.i.processItems(e),e.theory&&is.callable(e.theory.prep)&&(t=e.theory.prep.call(e,e))&&(e=t),e.toString=function(){return"[Object t.creator]"},e.getDescription=r.creator.i.getDescription.bind(e),e}}),e.plugins.creator});