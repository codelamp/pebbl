var is=function(n){var e,r={array:function(t){return!(!t||!t.join)},arraylike:function(t){return!!(t&&t.length&&void 0!==t[0]||r.array(t)||r.arguments(t))},arguments:function(t){return!(!t||!r.number(t.length)||"[object Arguments]"!==Object.prototype.toString.call(t))},string:function(t){return!(void 0===t||!t.charAt)},number:function(t){return!!("number"==typeof t||t&&t.constructor===Number)},bool:function(t){return!!("boolean"==typeof t||t&&t.constructor===Boolean)},literalObject:function(t){return"object"==typeof t&&t.constructor===Object},object:function(t){return"object"==typeof t},callable:function(t){return!!(t&&t.call&&t.apply)},element:function(t){return!!t.getElementsByTagName},undefined:function(t){return t===n},defined:function(t){return t!==n},promise:function(t){return!!t&&!!t.then},null:function(t){return null===t},void:function(t){return"number"==typeof t&&isNaN(t)||t===n||null===t},NaN:function(t){return"number"==typeof t&&isNaN(t)},primitive:function(t){return"object"!=typeof t},primitiveObject:function(t){return"object"==typeof t&&!!t.valueOf&&"object"!=typeof t.valueOf()},hostname:function(t,n){!n&&(n=String(window.location.host)),!t&&(t=[]),r.string(t)&&(t=[t]);for(var e,i=t,o=0,u=i.length,a=n;o<u;o++)if((e=a.indexOf(i[o]))!=-1){if("."===i[o].charAt(0))return e===a.length-i[o].length;if(0===e)return!0}return!1},markupNormalized:function(n){return t.normalizeMarkup(n)===n},empty:function(t){if(!t)return!0;if(r.number(t.length))return!t.length;if(r.primitive(t))return!t;for(var n in t)if(!Object.prototype.hasOwnProperty||Object.prototype.hasOwnProperty.call(t,n))return!1;return!0},towel:function(t){return 42===t}};r.not={};for(e in r)r.not[e]=function(t){return function(){return!t.apply(this,arguments)}}(r[e]);return r}(void 0);is.what=function(t,n){if(n>0&&is.arraylike(t)){for(var e=[],r=0,i=n-1,o=t.length;r<o;r++)e.push(this.what(t[r],i));return"["+e.join(", ")+"]"}return is.what.type(t)},is.what.types=[{name:"string",cons:String},{name:"number",cons:Number},{name:"boolean",cons:Boolean},{name:"date",cons:Date},{name:"regexp",cons:RegExp},{name:"function",test:function(t,n,e){return e===Function||"function"===n||t.call&&!!t.apply}},{name:"callable",test:function(t,n,e){return t.call&&!!t.apply}},{name:"array",test:function(t,n,e){return e===Array||"array"===n||t.join&&t.slice&&!!t.unshift||t[0]&&void 0!==t.length||is.arguments(t)}},{name:"event",test:function(t,n,e){return!(!t.type||!t.target&&!t.srcElement)}},{name:"element",test:function(t,n,e){return!!t.getElementsByTagName}},{name:"document",test:function(t,n,e){return!!t.getElementById}},{name:"window",test:function(t,n,e){return t.location&&!!t.document}}],is.what.type=function(t,n){var e,r,i,o,u,a;if(t&&t.isWhatType)e=t.isWhatType();else if("undefined"!=(e=typeof t))for(i=t.constructor,o=is.what.types,u=o.length,r=0;r<u;r++)if((a=o[r])&&a.cons){if(i===a.cons){e=a.name;break}}else if(a&&a.test&&a.test(t,e,i)){e=a.name;break}if(n&&n.substr){if((u=arguments.length)>2){for(r=1;r<u;r++)if(e===arguments[r])return!0;return!1}return type===e}return e};var has={childFunctions:function(t){for(var n in t)if(t.hasOwnProperty(n)&&is.callable(t[n]))return!0;return!1},hasItems:function(){return!1}},to={array:function(t){if(t){if(Array.isArray){if(Array.isArray(t))return t}else if(t.join)return t;if(t&&void 0!==t.length)return Array.from?Array.from(t):Array.prototype.slice.call(t,0)}return arguments.length?[t]:[]},function:function(t){return t&&t.call&&t.apply?t:function(){return t}}};async("theory.base",["underscore"],function(t){theory.base={mix:function(){var n=Array.prototype.slice.apply(arguments);return n.splice(1,0,this),t.extend.apply(t,n)},create:function(){return this.shared||(this.is={},this.shared={},this.prepNS()),this.prep.apply(Object.create(this),arguments)},createNS:function(){return this.prepNS.apply(Object.create(this),arguments)},prep:function(){return this},prepNS:function(){return this.shared={namespaces:{}},this},namespace:function(t){return this.shared.namespaces[t]||(this.shared.namespaces[t]=this.createNS(t))}}}),async("theory.run",["theory.is"],function(t){var n=theory.run={internal:{cancel:function(){delete this.cancel,clearTimeout(0+this)}},later:function(e,r,i,o){t.number(r)||(o=i,i=r,r=0);var u=new Number(setTimeout(function(){e.apply(i||this,o||[])},r));return u.cancel=theory.bind(n.internal.cancel,u),u}};return n});